@{
	ViewData["Title"] = "Home";
}
<style>
   
    #Contenedor {
        display:flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
        margin:1em;
        padding:2em;
        
    }
    #NombresContenedor{
            width:30%;
        margin: auto;
        box-shadow: 16px 17px 33px 1px rgba(0,0,0,0.62);
        -webkit-box-shadow: 16px 17px 33px 1px rgba(0,0,0,0.62);
        -moz-box-shadow: 16px 17px 33px 1px rgba(0,0,0,0.62);
        
    }

    
</style>
<script>
    document.addEventListener("DOMContentLoaded", () => {
    

    const btnEntrar = document.getElementById("btnEntrar");
    btnEntrar.addEventListener("click", event => {
        event.preventDefault();
        const urlUsuarios = "@Url.Action("Login", "Home")";
        const usuario = document.getElementById("usuario").value;
        const contraseña = document.getElementById("Contraseña").value;

        if (!usuario || !contraseña) { 
            alert("Por favor, completa todos los campos.");
            return;
        }
        const data = {
            usuario: usuario,
            contraseña: contraseña
        };

        fetch(urlUsuarios, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(data)
        })
            .then(response => response.json())
            .then(result => {
                if (result.success) {
                    console.log("Autenticación exitosa:", result.message);
                    alert("Bienvenido, " + result.message);
                    // Redirigir a la página principal o dashboard
                    mostrarBienvenida(usuario); // Llamar a la nueva función
                } else {
                    console.error("Error en la autenticación:", result.message);
                    alert("Error: " + result.message);
                }
            })
            .catch(error => {
                console.error("Error al autenticar:", error);
                alert("Error al autenticar. Inténtalo de nuevo más tarde.");
            });
    });


    const mostrarBienvenida = (nombreUsuario) => {
        // Limpiar el formulario
        document.getElementById("usuario").value = "";
        document.getElementById("Contraseña").value = "";

        // Ocultar el formulario
        const formulario = document.querySelector("form");
        formulario.style.display = "none";

        // Mostrar el mensaje de bienvenida
        const mensajeBienvenida = document.createElement("div");
        mensajeBienvenida.className = "alert alert-success";
        mensajeBienvenida.textContent = `Bienvenido, ${nombreUsuario}`;

        // Añadir el mensaje al contenedor principal
        const contenedor = document.querySelector(".text-center");
        contenedor.appendChild(mensajeBienvenida);
    };

 });
</script>

<div class="text-center" id="Contendor">

    <h2> Acceso </h2>
    <form>
        <div class="mb-3">
            <label for="usuario" class="form-label">Usuario</label>
            <input type="email" class="form-control" id="usuario" aria-describedby="emailHelp">            
        </div>
        <div class="mb-3">
            <label for="Contraseña" class="form-label">Contraseña</label>
            <input type="password" class="form-control" id="Contraseña">
        </div>        
        <button type="submit" class="btn btn-primary" id="btnEntrar">Entrar</button>
    </form>

    <h3>Acerca de este proyecto </h3>  
    
    
        <p>
            Somos estudiantes de T.U.P. (Tecnicatura Universitaria en Programación) de la U.T.N. (Universidad Tecnológica Nacional).
            Este proyecto es para la entrega de un trabajo integrador de la materia Programación III,
            nuestro profesor fue Jose A. Fernandez.
        </p>

        <p>
            En el proyecto abarcamos todos los temas dados en la materia,
            desde como estructurar nuestro proyecto, hasta como conectarnos a una base de datos.
            Sin dudas un desafío que puso a prueba nuestros conocimientos pero nos acerca mas a nuestra pación, que es la programación.
        </p>

        <p>
            Pepito Compra es un programa que representa la gestión de compras y ventas para un usuario,
            pudiendo gestionar stock y productos, guardando información de las transacciones para cada usuario.
        </p>


        <p>Este proyecto fue llevado a cabo por un grupo de 5 estudiantes: <a /></p>
        <div id="NombresContenedor">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Nombre</th>
                        <th scope="col">Apellido</th>

                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Pablo Daniel</td>
                        <td>Franco </td>

                    </tr>
                    <tr>
                        <td>
                            Franco Rubi
                        </td>
                        <td>Zarate Moro</td>

                    </tr>
                    <tr>
                        <td>Joel</td>
                        <td>Enora</td>

                    </tr>
                    <tr>
                        <td>Juan Ignacio</td>
                        <td>Martinez</td>

                    </tr>
                    <tr>
                        <td>Lucas David</td>
                        <td>Ojeda</td>
                    </tr>

                </tbody>
            </table>
        </div>


    

   
    


</div>